{"ast":null,"code":"import _toConsumableArray from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _classCallCheck from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { ENTER } from '@angular/cdk/keycodes';\nimport { HttpRequest, HttpHeaders, HttpEventType, HttpResponse, HttpClient } from '@angular/common/http';\nimport { Component, ViewEncapsulation, Optional, ElementRef, ViewChild, Input, ChangeDetectionStrategy, ChangeDetectorRef, Inject, NgZone, EventEmitter, Output, NgModule } from '@angular/core';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { of, Observable, Subscription, Subject } from 'rxjs';\nimport { switchMap, map, filter, takeUntil } from 'rxjs/operators';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { __decorate, __metadata } from 'tslib';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { toBoolean, InputNumber, InputBoolean } from 'ng-zorro-antd/core/util';\nimport { NzI18nService, NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { FormsModule } from '@angular/forms';\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from 'ng-zorro-antd/tooltip';\nimport * as ɵngcc5 from 'ng-zorro-antd/icon';\nimport * as ɵngcc6 from 'ng-zorro-antd/core/transition-patch';\nimport * as ɵngcc7 from 'ng-zorro-antd/button';\nimport * as ɵngcc8 from 'ng-zorro-antd/progress';\nimport * as ɵngcc9 from 'ng-zorro-antd/i18n';\nimport * as ɵngcc10 from '@angular/cdk/bidi';\nvar _c0 = [\"file\"];\nvar _c1 = [\"nz-upload-btn\", \"\"];\nvar _c2 = [\"*\"];\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template(rf, ctx) {}\n\nvar _c3 = function _c3(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 18);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_div_1_ng_template_1_Template, 0, 0, \"ng-template\", 19);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_a_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 22);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(3).$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", file_r1.thumbUrl || file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"alt\", file_r1.name);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r29 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 20);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_2_a_2_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r29);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r27 = ɵngcc0.ɵɵnextContext();\n      return ctx_r27.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_a_2_img_1_Template, 1, 2, \"img\", 21);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r21 = ɵngcc0.ɵɵreference(5);\n\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isImageUrl);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isImageUrl)(\"ngIfElse\", _r21);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_3_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 23);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_div_3_ng_template_1_Template, 0, 0, \"ng-template\", 19);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_2_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_2_ng_template_4_ng_template_0_Template, 0, 0, \"ng-template\", 19);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0, 13);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_2_div_1_Template, 2, 6, \"div\", 14);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_2_a_2_Template, 2, 5, \"a\", 15);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_2_div_3_Template, 2, 4, \"div\", 16);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_2_ng_template_4_Template, 1, 4, \"ng-template\", null, 17, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", file_r1.iconType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"uploading\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"thumbnail\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"i\", 29);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_ng_container_1_Template, 2, 0, \"ng-container\", 24);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r40 = ɵngcc0.ɵɵreference(4);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r40);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r47 = ɵngcc0.ɵɵnextContext(5);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r47.locale.uploading, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_ng_container_1_Template, 2, 1, \"ng-container\", 24);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r40 = ɵngcc0.ɵɵreference(4);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r40);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 30);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isUploading ? \"loading\" : \"paper-clip\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementContainerStart(1, 13);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_2_Template, 2, 2, \"ng-container\", 27);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_4_ng_container_0_ng_container_3_Template, 2, 2, \"ng-container\", 27);\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_4_ng_container_0_i_4_Template, 1, 1, \"i\", 28);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r37 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", ctx_r37.listType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_4_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 31);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isImageUrl ? \"picture\" : \"file\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_4_ng_container_0_Template, 5, 3, \"ng-container\", 24);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_4_ng_template_1_Template, 0, 0, \"ng-template\", 19, 25, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_4_ng_template_3_Template, 1, 1, \"ng-template\", null, 26, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ctx.$implicit;\n\n    var _r38 = ɵngcc0.ɵɵreference(2);\n\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r5.iconRender)(\"ngIfElse\", _r38);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r5.iconRender)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c3, file_r36));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r54 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 33);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_6_button_0_Template_button_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r54);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r52 = ɵngcc0.ɵɵnextContext();\n      return ctx_r52.handleRemove(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelement(1, \"i\", 34);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r51 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"title\", ctx_r51.locale.removeFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_6_button_0_Template, 2, 1, \"button\", 32);\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.icons.showRemoveIcon);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_8_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r58 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 33);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_8_button_0_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r58);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r56 = ɵngcc0.ɵɵnextContext();\n      return ctx_r56.handleDownload(file_r1);\n    });\n    ɵngcc0.ɵɵelement(1, \"i\", 35);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r55 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵattribute(\"title\", ctx_r55.locale.downloadFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_8_button_0_Template, 2, 1, \"button\", 32);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.showDownload);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_10_span_0_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_10_span_0_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_10_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_10_span_0_ng_template_1_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_10_span_0_ng_template_2_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n\n    var _r8 = ɵngcc0.ɵɵreference(9);\n\n    var _r6 = ɵngcc0.ɵɵreference(7);\n\n    var ctx_r60 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-upload-list-item-card-actions \", ctx_r60.listType === \"picture\" ? \"picture\" : \"\", \"\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r6);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_10_span_0_Template, 3, 5, \"span\", 36);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.listType !== \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_12_a_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r68 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 39);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_12_a_0_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r68);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r66 = ɵngcc0.ɵɵnextContext();\n      return ctx_r66.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name)(\"download\", file_r1.linkProps && file_r1.linkProps.download);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", file_r1.name, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_12_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r72 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"span\", 40);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_12_span_1_Template_span_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r72);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r70 = ɵngcc0.ɵɵnextContext();\n      return ctx_r70.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", file_r1.name, \" \");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_12_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_12_a_0_Template, 2, 4, \"a\", 37);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_12_span_1_Template, 2, 2, \"span\", 38);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_12_ng_template_2_Template, 0, 0, \"ng-template\", 10);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n\n    var _r10 = ɵngcc0.ɵɵreference(11);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r10);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_16_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_17_Template(rf, ctx) {}\n\nvar _c4 = function _c4() {\n  return {\n    opacity: 0.5,\n    \"pointer-events\": \"none\"\n  };\n};\n\nfunction NzUploadListComponent_div_0_span_18_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r80 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 44);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_span_18_a_1_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r80);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r78 = ɵngcc0.ɵɵnextContext();\n      return ctx_r78.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelement(1, \"i\", 45);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r75 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl)(\"ngStyle\", !(file_r1.url || file_r1.thumbUrl) ? ɵngcc0.ɵɵpureFunction0(3, _c4) : null);\n    ɵngcc0.ɵɵattribute(\"title\", ctx_r75.locale.previewFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_span_18_ng_container_2_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_18_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_18_ng_container_2_ng_template_1_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n\n    var _r8 = ɵngcc0.ɵɵreference(9);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n  }\n}\n\nfunction NzUploadListComponent_div_0_span_18_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 41);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_18_a_1_Template, 2, 4, \"a\", 42);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_span_18_ng_container_2_Template, 2, 1, \"ng-container\", 43);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_span_18_ng_template_3_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n\n    var _r6 = ɵngcc0.ɵɵreference(7);\n\n    var ctx_r16 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r16.icons.showPreviewIcon);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.status === \"done\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r6);\n  }\n}\n\nfunction NzUploadListComponent_div_0_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 46);\n    ɵngcc0.ɵɵelement(1, \"nz-progress\", 47);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzPercent\", file_r1.percent)(\"nzShowInfo\", false)(\"nzStrokeWidth\", 2);\n  }\n}\n\nfunction NzUploadListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_2_Template, 6, 3, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_4_Template, 5, 6, \"ng-template\", null, 3, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(6, NzUploadListComponent_div_0_ng_template_6_Template, 1, 1, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(8, NzUploadListComponent_div_0_ng_template_8_Template, 1, 1, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(10, NzUploadListComponent_div_0_ng_template_10_Template, 1, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(12, NzUploadListComponent_div_0_ng_template_12_Template, 3, 3, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementStart(14, \"div\", 8);\n    ɵngcc0.ɵɵelementStart(15, \"span\", 9);\n    ɵngcc0.ɵɵtemplate(16, NzUploadListComponent_div_0_ng_template_16_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵtemplate(17, NzUploadListComponent_div_0_ng_template_17_Template, 0, 0, \"ng-template\", 10);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(18, NzUploadListComponent_div_0_span_18_Template, 4, 3, \"span\", 11);\n    ɵngcc0.ɵɵtemplate(19, NzUploadListComponent_div_0_div_19_Template, 2, 3, \"div\", 12);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ctx.$implicit;\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    var _r12 = ɵngcc0.ɵɵreference(13);\n\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-upload-list-\", ctx_r0.listType, \"-container\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassMapInterpolate2(\"ant-upload-list-item ant-upload-list-item-\", file_r1.status, \" ant-upload-list-item-list-type-\", ctx_r0.listType, \"\");\n    ɵngcc0.ɵɵproperty(\"@itemState\", undefined)(\"nzTooltipTitle\", file_r1.status === \"error\" ? file_r1.message : null);\n    ɵngcc0.ɵɵattribute(\"data-key\", file_r1.key);\n    ɵngcc0.ɵɵadvance(15);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r12);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.listType === \"picture-card\" && !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isUploading);\n  }\n}\n\nvar _c5 = [\"uploadComp\"];\nvar _c6 = [\"listComp\"];\n\nvar _c7 = function _c7() {\n  return [];\n};\n\nfunction NzUploadComponent_ng_template_0_nz_upload_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-upload-list\", 8, 9);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r11.nzShowUploadList ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"locale\", ctx_r11.locale)(\"listType\", ctx_r11.nzListType)(\"items\", ctx_r11.nzFileList || ɵngcc0.ɵɵpureFunction0(13, _c7))(\"icons\", ctx_r11.nzShowUploadList)(\"iconRender\", ctx_r11.nzIconRender)(\"previewFile\", ctx_r11.nzPreviewFile)(\"previewIsImage\", ctx_r11.nzPreviewIsImage)(\"onPreview\", ctx_r11.nzPreview)(\"onRemove\", ctx_r11.onRemove)(\"onDownload\", ctx_r11.nzDownload)(\"dir\", ctx_r11.dir);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r12.nzFileListRender)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, ctx_r12.nzFileList));\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_nz_upload_list_0_Template, 2, 14, \"nz-upload-list\", 6);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_Template, 2, 4, \"ng-container\", 7);\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.locale && !ctx_r1.nzFileListRender);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.nzFileListRender);\n  }\n}\n\nfunction NzUploadComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_4_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 11);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 12, 13);\n    ɵngcc0.ɵɵtemplate(3, NzUploadComponent_ng_template_4_ng_template_3_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r5.nzShowButton ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r5.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r5._btnOptions);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction NzUploadComponent_ng_container_6_ng_template_5_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_ng_template_6_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r21 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 15);\n    ɵngcc0.ɵɵlistener(\"drop\", function NzUploadComponent_ng_container_6_Template_div_drop_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r20 = ɵngcc0.ɵɵnextContext();\n      return ctx_r20.fileDrop($event);\n    })(\"dragover\", function NzUploadComponent_ng_container_6_Template_div_dragover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r22 = ɵngcc0.ɵɵnextContext();\n      return ctx_r22.fileDrop($event);\n    })(\"dragleave\", function NzUploadComponent_ng_container_6_Template_div_dragleave_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r23 = ɵngcc0.ɵɵnextContext();\n      return ctx_r23.fileDrop($event);\n    });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 16, 13);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 17);\n    ɵngcc0.ɵɵtemplate(5, NzUploadComponent_ng_container_6_ng_template_5_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_ng_template_6_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r6.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r6._btnOptions);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_7_ng_container_0_Template, 3, 2, \"ng-container\", 3);\n  }\n\n  if (rf & 2) {\n    var ctx_r8 = ɵngcc0.ɵɵnextContext();\n\n    var _r9 = ɵngcc0.ɵɵreference(10);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r8.nzListType === \"picture-card\")(\"ngIfElse\", _r9);\n  }\n}\n\nfunction NzUploadComponent_ng_template_9_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_9_ng_template_0_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_9_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nvar NzUploadBtnComponent = /*@__PURE__*/function () {\n  var NzUploadBtnComponent = /*#__PURE__*/function () {\n    function NzUploadBtnComponent(http, elementRef) {\n      _classCallCheck(this, NzUploadBtnComponent);\n\n      this.http = http;\n      this.elementRef = elementRef;\n      this.reqs = {};\n      this.destroy = false; // TODO: move to host after View Engine deprecation\n\n      this.elementRef.nativeElement.classList.add('ant-upload');\n\n      if (!http) {\n        throw new Error(\"Not found 'HttpClient', You can import 'HttpClientModule' in your root module.\");\n      }\n    }\n\n    _createClass(NzUploadBtnComponent, [{\n      key: \"onClick\",\n      value: function onClick() {\n        if (this.options.disabled || !this.options.openFileDialogOnClick) {\n          return;\n        }\n\n        this.file.nativeElement.click();\n      }\n    }, {\n      key: \"onKeyDown\",\n      value: function onKeyDown(e) {\n        if (this.options.disabled) {\n          return;\n        }\n\n        if (e.key === 'Enter' || e.keyCode === ENTER) {\n          this.onClick();\n        }\n      } // skip safari bug\n\n    }, {\n      key: \"onFileDrop\",\n      value: function onFileDrop(e) {\n        var _this = this;\n\n        if (this.options.disabled || e.type === 'dragover') {\n          e.preventDefault();\n          return;\n        }\n\n        if (this.options.directory) {\n          this.traverseFileTree(e.dataTransfer.items);\n        } else {\n          var files = Array.prototype.slice.call(e.dataTransfer.files).filter(function (file) {\n            return _this.attrAccept(file, _this.options.accept);\n          });\n\n          if (files.length) {\n            this.uploadFiles(files);\n          }\n        }\n\n        e.preventDefault();\n      }\n    }, {\n      key: \"onChange\",\n      value: function onChange(e) {\n        if (this.options.disabled) {\n          return;\n        }\n\n        var hie = e.target;\n        this.uploadFiles(hie.files);\n        hie.value = '';\n      }\n    }, {\n      key: \"traverseFileTree\",\n      value: function traverseFileTree(files) {\n        var _this2 = this;\n\n        var _traverseFileTree = function _traverseFileTree(item, path) {\n          if (item.isFile) {\n            item.file(function (file) {\n              if (_this2.attrAccept(file, _this2.options.accept)) {\n                _this2.uploadFiles([file]);\n              }\n            });\n          } else if (item.isDirectory) {\n            var dirReader = item.createReader();\n            dirReader.readEntries(function (entries) {\n              var _iterator = _createForOfIteratorHelper(entries),\n                  _step;\n\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var entrieItem = _step.value;\n\n                  _traverseFileTree(entrieItem, \"\".concat(path).concat(item.name, \"/\"));\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n            });\n          }\n        };\n\n        var _iterator2 = _createForOfIteratorHelper(files),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var file = _step2.value;\n\n            _traverseFileTree(file.webkitGetAsEntry(), '');\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }, {\n      key: \"attrAccept\",\n      value: function attrAccept(file, acceptedFiles) {\n        if (file && acceptedFiles) {\n          var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n          var fileName = '' + file.name;\n          var mimeType = '' + file.type;\n          var baseMimeType = mimeType.replace(/\\/.*$/, '');\n          return acceptedFilesArray.some(function (type) {\n            var validType = type.trim();\n\n            if (validType.charAt(0) === '.') {\n              return fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1;\n            } else if (/\\/\\*$/.test(validType)) {\n              // This is something like a image/* mime type\n              return baseMimeType === validType.replace(/\\/.*$/, '');\n            }\n\n            return mimeType === validType;\n          });\n        }\n\n        return true;\n      }\n    }, {\n      key: \"attachUid\",\n      value: function attachUid(file) {\n        if (!file.uid) {\n          file.uid = Math.random().toString(36).substring(2);\n        }\n\n        return file;\n      }\n    }, {\n      key: \"uploadFiles\",\n      value: function uploadFiles(fileList) {\n        var _this3 = this;\n\n        var filters$ = of(Array.prototype.slice.call(fileList));\n\n        if (this.options.filters) {\n          this.options.filters.forEach(function (f) {\n            filters$ = filters$.pipe(switchMap(function (list) {\n              var fnRes = f.fn(list);\n              return fnRes instanceof Observable ? fnRes : of(fnRes);\n            }));\n          });\n        }\n\n        filters$.subscribe(function (list) {\n          list.forEach(function (file) {\n            _this3.attachUid(file);\n\n            _this3.upload(file, list);\n          });\n        }, function (e) {\n          warn(\"Unhandled upload filter error\", e);\n        });\n      }\n    }, {\n      key: \"upload\",\n      value: function upload(file, fileList) {\n        var _this4 = this;\n\n        if (!this.options.beforeUpload) {\n          return this.post(file);\n        }\n\n        var before = this.options.beforeUpload(file, fileList);\n\n        if (before instanceof Observable) {\n          before.subscribe(function (processedFile) {\n            var processedFileType = Object.prototype.toString.call(processedFile);\n\n            if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n              _this4.attachUid(processedFile);\n\n              _this4.post(processedFile);\n            } else if (typeof processedFile === 'boolean' && processedFile !== false) {\n              _this4.post(file);\n            }\n          }, function (e) {\n            warn(\"Unhandled upload beforeUpload error\", e);\n          });\n        } else if (before !== false) {\n          return this.post(file);\n        }\n      }\n    }, {\n      key: \"post\",\n      value: function post(file) {\n        var _this5 = this;\n\n        if (this.destroy) {\n          return;\n        }\n\n        var process$ = of(file);\n        var opt = this.options;\n        var uid = file.uid;\n        var action = opt.action,\n            data = opt.data,\n            headers = opt.headers,\n            transformFile = opt.transformFile;\n        var args = {\n          action: typeof action === 'string' ? action : '',\n          name: opt.name,\n          headers: headers,\n          file: file,\n          postFile: file,\n          data: data,\n          withCredentials: opt.withCredentials,\n          onProgress: opt.onProgress ? function (e) {\n            opt.onProgress(e, file);\n          } : undefined,\n          onSuccess: function onSuccess(ret, xhr) {\n            _this5.clean(uid);\n\n            opt.onSuccess(ret, file, xhr);\n          },\n          onError: function onError(xhr) {\n            _this5.clean(uid);\n\n            opt.onError(xhr, file);\n          }\n        };\n\n        if (typeof action === 'function') {\n          var actionResult = action(file);\n\n          if (actionResult instanceof Observable) {\n            process$ = process$.pipe(switchMap(function () {\n              return actionResult;\n            }), map(function (res) {\n              args.action = res;\n              return file;\n            }));\n          } else {\n            args.action = actionResult;\n          }\n        }\n\n        if (typeof transformFile === 'function') {\n          var transformResult = transformFile(file);\n          process$ = process$.pipe(switchMap(function () {\n            return transformResult instanceof Observable ? transformResult : of(transformResult);\n          }));\n        }\n\n        if (typeof data === 'function') {\n          var dataResult = data(file);\n\n          if (dataResult instanceof Observable) {\n            process$ = process$.pipe(switchMap(function () {\n              return dataResult;\n            }), map(function (res) {\n              args.data = res;\n              return file;\n            }));\n          } else {\n            args.data = dataResult;\n          }\n        }\n\n        if (typeof headers === 'function') {\n          var headersResult = headers(file);\n\n          if (headersResult instanceof Observable) {\n            process$ = process$.pipe(switchMap(function () {\n              return headersResult;\n            }), map(function (res) {\n              args.headers = res;\n              return file;\n            }));\n          } else {\n            args.headers = headersResult;\n          }\n        }\n\n        process$.subscribe(function (newFile) {\n          args.postFile = newFile;\n\n          var req$ = (opt.customRequest || _this5.xhr).call(_this5, args);\n\n          if (!(req$ instanceof Subscription)) {\n            warn(\"Must return Subscription type in '[nzCustomRequest]' property\");\n          }\n\n          _this5.reqs[uid] = req$;\n          opt.onStart(file);\n        });\n      }\n    }, {\n      key: \"xhr\",\n      value: function xhr(args) {\n        var _this6 = this;\n\n        var formData = new FormData();\n\n        if (args.data) {\n          Object.keys(args.data).map(function (key) {\n            formData.append(key, args.data[key]);\n          });\n        }\n\n        formData.append(args.name, args.postFile);\n\n        if (!args.headers) {\n          args.headers = {};\n        }\n\n        if (args.headers['X-Requested-With'] !== null) {\n          args.headers['X-Requested-With'] = \"XMLHttpRequest\";\n        } else {\n          delete args.headers['X-Requested-With'];\n        }\n\n        var req = new HttpRequest('POST', args.action, formData, {\n          reportProgress: true,\n          withCredentials: args.withCredentials,\n          headers: new HttpHeaders(args.headers)\n        });\n        return this.http.request(req).subscribe(function (event) {\n          if (event.type === HttpEventType.UploadProgress) {\n            if (event.total > 0) {\n              event.percent = event.loaded / event.total * 100;\n            }\n\n            args.onProgress(event, args.file);\n          } else if (event instanceof HttpResponse) {\n            args.onSuccess(event.body, args.file, event);\n          }\n        }, function (err) {\n          _this6.abort(args.file);\n\n          args.onError(err, args.file);\n        });\n      }\n    }, {\n      key: \"clean\",\n      value: function clean(uid) {\n        var req$ = this.reqs[uid];\n\n        if (req$ instanceof Subscription) {\n          req$.unsubscribe();\n        }\n\n        delete this.reqs[uid];\n      }\n    }, {\n      key: \"abort\",\n      value: function abort(file) {\n        var _this7 = this;\n\n        if (file) {\n          this.clean(file && file.uid);\n        } else {\n          Object.keys(this.reqs).forEach(function (uid) {\n            return _this7.clean(uid);\n          });\n        }\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.destroy = true;\n        this.abort();\n      }\n    }]);\n\n    return NzUploadBtnComponent;\n  }();\n\n  NzUploadBtnComponent.ɵfac = function NzUploadBtnComponent_Factory(t) {\n    return new (t || NzUploadBtnComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.HttpClient, 8), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  NzUploadBtnComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n    type: NzUploadBtnComponent,\n    selectors: [[\"\", \"nz-upload-btn\", \"\"]],\n    viewQuery: function NzUploadBtnComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 1);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.file = _t.first);\n      }\n    },\n    hostVars: 4,\n    hostBindings: function NzUploadBtnComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function NzUploadBtnComponent_click_HostBindingHandler() {\n          return ctx.onClick();\n        })(\"keydown\", function NzUploadBtnComponent_keydown_HostBindingHandler($event) {\n          return ctx.onKeyDown($event);\n        })(\"drop\", function NzUploadBtnComponent_drop_HostBindingHandler($event) {\n          return ctx.onFileDrop($event);\n        })(\"dragover\", function NzUploadBtnComponent_dragover_HostBindingHandler($event) {\n          return ctx.onFileDrop($event);\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"tabindex\", \"0\")(\"role\", \"button\");\n        ɵngcc0.ɵɵclassProp(\"ant-upload-disabled\", ctx.options.disabled);\n      }\n    },\n    inputs: {\n      options: \"options\"\n    },\n    exportAs: [\"nzUploadBtn\"],\n    attrs: _c1,\n    ngContentSelectors: _c2,\n    decls: 3,\n    vars: 4,\n    consts: [[\"type\", \"file\", 2, \"display\", \"none\", 3, \"multiple\", \"change\"], [\"file\", \"\"]],\n    template: function NzUploadBtnComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"input\", 0, 1);\n        ɵngcc0.ɵɵlistener(\"change\", function NzUploadBtnComponent_Template_input_change_0_listener($event) {\n          return ctx.onChange($event);\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵprojection(2);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"multiple\", ctx.options.multiple);\n        ɵngcc0.ɵɵattribute(\"accept\", ctx.options.accept)(\"directory\", ctx.options.directory ? \"directory\" : null)(\"webkitdirectory\", ctx.options.directory ? \"webkitdirectory\" : null);\n      }\n    },\n    encapsulation: 2\n  });\n  return NzUploadBtnComponent;\n}();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n\nvar isImageFileType = function isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nvar ɵ0 = isImageFileType;\nvar MEASURE_SIZE = 200;\n\nvar NzUploadListComponent = /*@__PURE__*/function () {\n  var NzUploadListComponent = /*#__PURE__*/function () {\n    // #endregion\n    function NzUploadListComponent(cdr, doc, ngZone, platform, elementRef) {\n      _classCallCheck(this, NzUploadListComponent);\n\n      this.cdr = cdr;\n      this.doc = doc;\n      this.ngZone = ngZone;\n      this.platform = platform;\n      this.elementRef = elementRef;\n      this.list = [];\n      this.locale = {};\n      this.iconRender = null;\n      this.dir = 'ltr'; // TODO: move to host after View Engine deprecation\n\n      this.elementRef.nativeElement.classList.add('ant-upload-list');\n    }\n\n    _createClass(NzUploadListComponent, [{\n      key: \"showPic\",\n      get: function get() {\n        return this.listType === 'picture' || this.listType === 'picture-card';\n      }\n    }, {\n      key: \"items\",\n      set: function set(list) {\n        this.list = list;\n      }\n    }, {\n      key: \"genErr\",\n      value: function genErr(file) {\n        if (file.response && typeof file.response === 'string') {\n          return file.response;\n        }\n\n        return file.error && file.error.statusText || this.locale.uploadError;\n      }\n    }, {\n      key: \"extname\",\n      value: function extname(url) {\n        var temp = url.split('/');\n        var filename = temp[temp.length - 1];\n        var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n        return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n      }\n    }, {\n      key: \"isImageUrl\",\n      value: function isImageUrl(file) {\n        if (isImageFileType(file.type)) {\n          return true;\n        }\n\n        var url = file.thumbUrl || file.url || '';\n\n        if (!url) {\n          return false;\n        }\n\n        var extension = this.extname(url);\n\n        if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n          return true;\n        } else if (/^data:/.test(url)) {\n          // other file types of base64\n          return false;\n        } else if (extension) {\n          // other file types which have extension\n          return false;\n        }\n\n        return true;\n      }\n    }, {\n      key: \"getIconType\",\n      value: function getIconType(file) {\n        if (!this.showPic) {\n          return '';\n        }\n\n        if (file.isUploading || !file.thumbUrl && !file.url) {\n          return 'uploading';\n        } else {\n          return 'thumbnail';\n        }\n      }\n    }, {\n      key: \"previewImage\",\n      value: function previewImage(file) {\n        var _this8 = this;\n\n        return new Promise(function (resolve) {\n          if (!isImageFileType(file.type) || !_this8.platform.isBrowser) {\n            resolve('');\n            return;\n          }\n\n          _this8.ngZone.runOutsideAngular(function () {\n            var canvas = _this8.doc.createElement('canvas');\n\n            canvas.width = MEASURE_SIZE;\n            canvas.height = MEASURE_SIZE;\n            canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n\n            _this8.doc.body.appendChild(canvas);\n\n            var ctx = canvas.getContext('2d');\n            var img = new Image();\n\n            img.onload = function () {\n              var width = img.width,\n                  height = img.height;\n              var drawWidth = MEASURE_SIZE;\n              var drawHeight = MEASURE_SIZE;\n              var offsetX = 0;\n              var offsetY = 0;\n\n              if (width < height) {\n                drawHeight = height * (MEASURE_SIZE / width);\n                offsetY = -(drawHeight - drawWidth) / 2;\n              } else {\n                drawWidth = width * (MEASURE_SIZE / height);\n                offsetX = -(drawWidth - drawHeight) / 2;\n              }\n\n              try {\n                ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n              } catch (_a) {}\n\n              var dataURL = canvas.toDataURL();\n\n              _this8.doc.body.removeChild(canvas);\n\n              resolve(dataURL);\n            };\n\n            img.src = window.URL.createObjectURL(file);\n          });\n        });\n      }\n    }, {\n      key: \"genThumb\",\n      value: function genThumb() {\n        var _this9 = this;\n\n        if (!this.platform.isBrowser) {\n          return;\n        }\n\n        var win = window;\n\n        if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\n          return;\n        }\n\n        this.list.filter(function (file) {\n          return file.originFileObj instanceof File && file.thumbUrl === undefined;\n        }).forEach(function (file) {\n          file.thumbUrl = '';\n          (_this9.previewFile ? _this9.previewFile(file).toPromise() : _this9.previewImage(file.originFileObj)).then(function (dataUrl) {\n            file.thumbUrl = dataUrl;\n\n            _this9.detectChanges();\n          });\n        });\n      }\n    }, {\n      key: \"showDownload\",\n      value: function showDownload(file) {\n        return !!(this.icons.showDownloadIcon && file.status === 'done');\n      }\n    }, {\n      key: \"fixData\",\n      value: function fixData() {\n        var _this10 = this;\n\n        this.list.forEach(function (file) {\n          file.isUploading = file.status === 'uploading';\n          file.message = _this10.genErr(file);\n          file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n          file.isImageUrl = _this10.previewIsImage ? _this10.previewIsImage(file) : _this10.isImageUrl(file);\n          file.iconType = _this10.getIconType(file);\n          file.showDownload = _this10.showDownload(file);\n        });\n      }\n    }, {\n      key: \"handlePreview\",\n      value: function handlePreview(file, e) {\n        if (!this.onPreview) {\n          return;\n        }\n\n        e.preventDefault();\n        return this.onPreview(file);\n      }\n    }, {\n      key: \"handleRemove\",\n      value: function handleRemove(file, e) {\n        e.preventDefault();\n\n        if (this.onRemove) {\n          this.onRemove(file);\n        }\n\n        return;\n      }\n    }, {\n      key: \"handleDownload\",\n      value: function handleDownload(file) {\n        if (typeof this.onDownload === 'function') {\n          this.onDownload(file);\n        } else if (file.url) {\n          window.open(file.url);\n        }\n      }\n    }, {\n      key: \"detectChanges\",\n      value: function detectChanges() {\n        this.fixData();\n        this.cdr.detectChanges();\n      }\n    }, {\n      key: \"ngOnChanges\",\n      value: function ngOnChanges() {\n        this.fixData();\n        this.genThumb();\n      }\n    }]);\n\n    return NzUploadListComponent;\n  }();\n\n  NzUploadListComponent.ɵfac = function NzUploadListComponent_Factory(t) {\n    return new (t || NzUploadListComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef));\n  };\n\n  NzUploadListComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n    type: NzUploadListComponent,\n    selectors: [[\"nz-upload-list\"]],\n    hostVars: 8,\n    hostBindings: function NzUploadListComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-upload-list-rtl\", ctx.dir === \"rtl\")(\"ant-upload-list-text\", ctx.listType === \"text\")(\"ant-upload-list-picture\", ctx.listType === \"picture\")(\"ant-upload-list-picture-card\", ctx.listType === \"picture-card\");\n      }\n    },\n    inputs: {\n      locale: \"locale\",\n      iconRender: \"iconRender\",\n      dir: \"dir\",\n      items: \"items\",\n      listType: \"listType\",\n      icons: \"icons\",\n      onPreview: \"onPreview\",\n      onRemove: \"onRemove\",\n      onDownload: \"onDownload\",\n      previewFile: \"previewFile\",\n      previewIsImage: \"previewIsImage\"\n    },\n    exportAs: [\"nzUploadList\"],\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"nz-tooltip\", \"\", 3, \"nzTooltipTitle\"], [\"icon\", \"\"], [\"iconNode\", \"\"], [\"removeIcon\", \"\"], [\"downloadIcon\", \"\"], [\"downloadOrDelete\", \"\"], [\"preview\", \"\"], [1, \"ant-upload-list-item-info\"], [1, \"ant-upload-span\"], [3, \"ngTemplateOutlet\"], [\"class\", \"ant-upload-list-item-actions\", 4, \"ngIf\"], [\"class\", \"ant-upload-list-item-progress\", 4, \"ngIf\"], [3, \"ngSwitch\"], [\"class\", \"ant-upload-list-item-thumbnail\", 3, \"ant-upload-list-item-file\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-list-item-thumbnail\", \"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ant-upload-list-item-file\", \"href\", \"click\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-text-icon\", 4, \"ngSwitchDefault\"], [\"noImageThumbTpl\", \"\"], [1, \"ant-upload-list-item-thumbnail\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-thumbnail\", 3, \"href\", \"click\"], [\"class\", \"ant-upload-list-item-image\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [1, \"ant-upload-list-item-image\", 3, \"src\"], [1, \"ant-upload-text-icon\"], [4, \"ngIf\", \"ngIfElse\"], [\"customIconRender\", \"\"], [\"iconNodeFileIcon\", \"\"], [4, \"ngSwitchCase\"], [\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngSwitchDefault\"], [\"nz-icon\", \"\", \"nzType\", \"loading\"], [\"nz-icon\", \"\", 3, \"nzType\"], [\"nz-icon\", \"\", \"nzTheme\", \"twotone\", 3, \"nzType\"], [\"type\", \"button\", \"nz-button\", \"\", \"nzType\", \"text\", \"nzSize\", \"small\", \"class\", \"ant-upload-list-item-card-actions-btn\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"nz-button\", \"\", \"nzType\", \"text\", \"nzSize\", \"small\", 1, \"ant-upload-list-item-card-actions-btn\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"delete\"], [\"nz-icon\", \"\", \"nzType\", \"download\"], [3, \"class\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", \"class\", \"ant-upload-list-item-name\", 3, \"href\", \"click\", 4, \"ngIf\"], [\"class\", \"ant-upload-list-item-name\", 3, \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-name\", 3, \"href\", \"click\"], [1, \"ant-upload-list-item-name\", 3, \"click\"], [1, \"ant-upload-list-item-actions\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"ngStyle\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"ngStyle\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"eye\"], [1, \"ant-upload-list-item-progress\"], [\"nzType\", \"line\", 3, \"nzPercent\", \"nzShowInfo\", \"nzStrokeWidth\"]],\n    template: function NzUploadListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_Template, 20, 14, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.list);\n      }\n    },\n    directives: [ɵngcc3.NgForOf, ɵngcc4.NzTooltipDirective, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgIf, ɵngcc3.NgSwitch, ɵngcc3.NgSwitchCase, ɵngcc3.NgSwitchDefault, ɵngcc5.NzIconDirective, ɵngcc6.ɵNzTransitionPatchDirective, ɵngcc7.NzButtonComponent, ɵngcc3.NgStyle, ɵngcc8.NzProgressComponent],\n    encapsulation: 2,\n    data: {\n      animation: [trigger('itemState', [transition(':enter', [style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }), animate(150, style({\n        height: '*',\n        width: '*',\n        opacity: 1\n      }))]), transition(':leave', [animate(150, style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }))])])]\n    },\n    changeDetection: 0\n  });\n  return NzUploadListComponent;\n}();\n\nvar NzUploadComponent = /*@__PURE__*/function () {\n  var NzUploadComponent = /*#__PURE__*/function () {\n    // #endregion\n    function NzUploadComponent(cdr, i18n, directionality) {\n      var _this11 = this;\n\n      _classCallCheck(this, NzUploadComponent);\n\n      this.cdr = cdr;\n      this.i18n = i18n;\n      this.directionality = directionality;\n      this.destroy$ = new Subject();\n      this.dir = 'ltr'; // #region fields\n\n      this.nzType = 'select';\n      this.nzLimit = 0;\n      this.nzSize = 0;\n      this.nzDirectory = false;\n      this.nzOpenFileDialogOnClick = true;\n      this.nzFilter = [];\n      this.nzFileList = [];\n      this.nzDisabled = false;\n      this.nzListType = 'text';\n      this.nzMultiple = false;\n      this.nzName = 'file';\n      this._showUploadList = true;\n      this.nzShowButton = true;\n      this.nzWithCredentials = false;\n      this.nzIconRender = null;\n      this.nzFileListRender = null;\n      this.nzChange = new EventEmitter();\n      this.nzFileListChange = new EventEmitter();\n\n      this.onStart = function (file) {\n        if (!_this11.nzFileList) {\n          _this11.nzFileList = [];\n        }\n\n        var targetItem = _this11.fileToObject(file);\n\n        targetItem.status = 'uploading';\n        _this11.nzFileList = _this11.nzFileList.concat(targetItem);\n\n        _this11.nzFileListChange.emit(_this11.nzFileList);\n\n        _this11.nzChange.emit({\n          file: targetItem,\n          fileList: _this11.nzFileList,\n          type: 'start'\n        });\n\n        _this11.detectChangesList();\n      };\n\n      this.onProgress = function (e, file) {\n        var fileList = _this11.nzFileList;\n\n        var targetItem = _this11.getFileItem(file, fileList);\n\n        targetItem.percent = e.percent;\n\n        _this11.nzChange.emit({\n          event: e,\n          file: Object.assign({}, targetItem),\n          fileList: _this11.nzFileList,\n          type: 'progress'\n        });\n\n        _this11.detectChangesList();\n      };\n\n      this.onSuccess = function (res, file) {\n        var fileList = _this11.nzFileList;\n\n        var targetItem = _this11.getFileItem(file, fileList);\n\n        targetItem.status = 'done';\n        targetItem.response = res;\n\n        _this11.nzChange.emit({\n          file: Object.assign({}, targetItem),\n          fileList: fileList,\n          type: 'success'\n        });\n\n        _this11.detectChangesList();\n      };\n\n      this.onError = function (err, file) {\n        var fileList = _this11.nzFileList;\n\n        var targetItem = _this11.getFileItem(file, fileList);\n\n        targetItem.error = err;\n        targetItem.status = 'error';\n\n        _this11.nzChange.emit({\n          file: Object.assign({}, targetItem),\n          fileList: fileList,\n          type: 'error'\n        });\n\n        _this11.detectChangesList();\n      };\n\n      this.onRemove = function (file) {\n        _this11.uploadComp.abort(file);\n\n        file.status = 'removed';\n        var fnRes = typeof _this11.nzRemove === 'function' ? _this11.nzRemove(file) : _this11.nzRemove == null ? true : _this11.nzRemove;\n        (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter(function (res) {\n          return res;\n        })).subscribe(function () {\n          _this11.nzFileList = _this11.removeFileItem(file, _this11.nzFileList);\n\n          _this11.nzChange.emit({\n            file: file,\n            fileList: _this11.nzFileList,\n            type: 'removed'\n          });\n\n          _this11.nzFileListChange.emit(_this11.nzFileList);\n\n          _this11.cdr.detectChanges();\n        });\n      }; // #endregion\n      // #region styles\n\n\n      this.prefixCls = 'ant-upload';\n      this.classList = [];\n    }\n\n    _createClass(NzUploadComponent, [{\n      key: \"nzShowUploadList\",\n      get: function get() {\n        return this._showUploadList;\n      },\n      set: function set(value) {\n        this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n      }\n    }, {\n      key: \"zipOptions\",\n      value: function zipOptions() {\n        var _this12 = this;\n\n        if (typeof this.nzShowUploadList === 'boolean' && this.nzShowUploadList) {\n          this.nzShowUploadList = {\n            showPreviewIcon: true,\n            showRemoveIcon: true,\n            showDownloadIcon: true\n          };\n        } // filters\n\n\n        var filters = this.nzFilter.slice();\n\n        if (this.nzMultiple && this.nzLimit > 0 && filters.findIndex(function (w) {\n          return w.name === 'limit';\n        }) === -1) {\n          filters.push({\n            name: 'limit',\n            fn: function fn(fileList) {\n              return fileList.slice(-_this12.nzLimit);\n            }\n          });\n        }\n\n        if (this.nzSize > 0 && filters.findIndex(function (w) {\n          return w.name === 'size';\n        }) === -1) {\n          filters.push({\n            name: 'size',\n            fn: function fn(fileList) {\n              return fileList.filter(function (w) {\n                return w.size / 1024 <= _this12.nzSize;\n              });\n            }\n          });\n        }\n\n        if (this.nzFileType && this.nzFileType.length > 0 && filters.findIndex(function (w) {\n          return w.name === 'type';\n        }) === -1) {\n          var types = this.nzFileType.split(',');\n          filters.push({\n            name: 'type',\n            fn: function fn(fileList) {\n              return fileList.filter(function (w) {\n                return ~types.indexOf(w.type);\n              });\n            }\n          });\n        }\n\n        this._btnOptions = {\n          disabled: this.nzDisabled,\n          accept: this.nzAccept,\n          action: this.nzAction,\n          directory: this.nzDirectory,\n          openFileDialogOnClick: this.nzOpenFileDialogOnClick,\n          beforeUpload: this.nzBeforeUpload,\n          customRequest: this.nzCustomRequest,\n          data: this.nzData,\n          headers: this.nzHeaders,\n          name: this.nzName,\n          multiple: this.nzMultiple,\n          withCredentials: this.nzWithCredentials,\n          filters: filters,\n          transformFile: this.nzTransformFile,\n          onStart: this.onStart,\n          onProgress: this.onProgress,\n          onSuccess: this.onSuccess,\n          onError: this.onError\n        };\n        return this;\n      } // #region upload\n\n    }, {\n      key: \"fileToObject\",\n      value: function fileToObject(file) {\n        return {\n          lastModified: file.lastModified,\n          lastModifiedDate: file.lastModifiedDate,\n          name: file.filename || file.name,\n          size: file.size,\n          type: file.type,\n          uid: file.uid,\n          response: file.response,\n          error: file.error,\n          percent: 0,\n          originFileObj: file\n        };\n      }\n    }, {\n      key: \"getFileItem\",\n      value: function getFileItem(file, fileList) {\n        return fileList.filter(function (item) {\n          return item.uid === file.uid;\n        })[0];\n      }\n    }, {\n      key: \"removeFileItem\",\n      value: function removeFileItem(file, fileList) {\n        return fileList.filter(function (item) {\n          return item.uid !== file.uid;\n        });\n      } // skip safari bug\n\n    }, {\n      key: \"fileDrop\",\n      value: function fileDrop(e) {\n        if (e.type === this.dragState) {\n          return;\n        }\n\n        this.dragState = e.type;\n        this.setClassMap();\n      } // #endregion\n      // #region list\n\n    }, {\n      key: \"detectChangesList\",\n      value: function detectChangesList() {\n        var _a;\n\n        this.cdr.detectChanges();\n        (_a = this.listComp) === null || _a === void 0 ? void 0 : _a.detectChanges();\n      }\n    }, {\n      key: \"setClassMap\",\n      value: function setClassMap() {\n        var subCls = [];\n\n        if (this.nzType === 'drag') {\n          if (this.nzFileList.some(function (file) {\n            return file.status === 'uploading';\n          })) {\n            subCls.push(\"\".concat(this.prefixCls, \"-drag-uploading\"));\n          }\n\n          if (this.dragState === 'dragover') {\n            subCls.push(\"\".concat(this.prefixCls, \"-drag-hover\"));\n          }\n        } else {\n          subCls = [\"\".concat(this.prefixCls, \"-select-\").concat(this.nzListType)];\n        }\n\n        this.classList = [this.prefixCls, \"\".concat(this.prefixCls, \"-\").concat(this.nzType)].concat(_toConsumableArray(subCls), [this.nzDisabled && \"\".concat(this.prefixCls, \"-disabled\") || '', this.dir === 'rtl' && \"\".concat(this.prefixCls, \"-rtl\") || '']).filter(function (item) {\n          return !!item;\n        });\n        this.cdr.detectChanges();\n      } // #endregion\n\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this13 = this;\n\n        var _a;\n\n        this.dir = this.directionality.value;\n        (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(function (direction) {\n          _this13.dir = direction;\n\n          _this13.setClassMap();\n\n          _this13.cdr.detectChanges();\n        });\n        this.i18n.localeChange.pipe(takeUntil(this.destroy$)).subscribe(function () {\n          _this13.locale = _this13.i18n.getLocaleData('Upload');\n\n          _this13.detectChangesList();\n        });\n      }\n    }, {\n      key: \"ngOnChanges\",\n      value: function ngOnChanges() {\n        this.zipOptions().setClassMap();\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n      }\n    }]);\n\n    return NzUploadComponent;\n  }();\n\n  NzUploadComponent.ɵfac = function NzUploadComponent_Factory(t) {\n    return new (t || NzUploadComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc9.NzI18nService), ɵngcc0.ɵɵdirectiveInject(ɵngcc10.Directionality, 8));\n  };\n\n  NzUploadComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n    type: NzUploadComponent,\n    selectors: [[\"nz-upload\"]],\n    viewQuery: function NzUploadComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c5, 1);\n        ɵngcc0.ɵɵviewQuery(_c6, 1);\n      }\n\n      if (rf & 2) {\n        var _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.uploadComp = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listComp = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function NzUploadComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-upload-picture-card-wrapper\", ctx.nzListType === \"picture-card\");\n      }\n    },\n    inputs: {\n      nzType: \"nzType\",\n      nzLimit: \"nzLimit\",\n      nzSize: \"nzSize\",\n      nzDirectory: \"nzDirectory\",\n      nzOpenFileDialogOnClick: \"nzOpenFileDialogOnClick\",\n      nzFilter: \"nzFilter\",\n      nzFileList: \"nzFileList\",\n      nzDisabled: \"nzDisabled\",\n      nzListType: \"nzListType\",\n      nzMultiple: \"nzMultiple\",\n      nzName: \"nzName\",\n      nzShowButton: \"nzShowButton\",\n      nzWithCredentials: \"nzWithCredentials\",\n      nzIconRender: \"nzIconRender\",\n      nzFileListRender: \"nzFileListRender\",\n      nzShowUploadList: \"nzShowUploadList\",\n      nzFileType: \"nzFileType\",\n      nzAccept: \"nzAccept\",\n      nzAction: \"nzAction\",\n      nzBeforeUpload: \"nzBeforeUpload\",\n      nzCustomRequest: \"nzCustomRequest\",\n      nzData: \"nzData\",\n      nzHeaders: \"nzHeaders\",\n      nzRemove: \"nzRemove\",\n      nzPreview: \"nzPreview\",\n      nzPreviewFile: \"nzPreviewFile\",\n      nzPreviewIsImage: \"nzPreviewIsImage\",\n      nzTransformFile: \"nzTransformFile\",\n      nzDownload: \"nzDownload\"\n    },\n    outputs: {\n      nzChange: \"nzChange\",\n      nzFileListChange: \"nzFileListChange\"\n    },\n    exportAs: [\"nzUpload\"],\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    ngContentSelectors: _c2,\n    decls: 11,\n    vars: 2,\n    consts: [[\"list\", \"\"], [\"con\", \"\"], [\"btn\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"select\", \"\"], [\"pic\", \"\"], [3, \"display\", \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\", \"dir\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\", \"dir\"], [\"listComp\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"ngClass\"], [\"nz-upload-btn\", \"\", 3, \"options\"], [\"uploadComp\", \"\"], [3, \"ngTemplateOutlet\"], [3, \"ngClass\", \"drop\", \"dragover\", \"dragleave\"], [\"nz-upload-btn\", \"\", 1, \"ant-upload-btn\", 3, \"options\"], [1, \"ant-upload-drag-container\"]],\n    template: function NzUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_Template, 2, 2, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(4, NzUploadComponent_ng_template_4_Template, 4, 5, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_Template, 7, 4, \"ng-container\", 3);\n        ɵngcc0.ɵɵtemplate(7, NzUploadComponent_ng_template_7_Template, 1, 2, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(9, NzUploadComponent_ng_template_9_Template, 2, 2, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        var _r7 = ɵngcc0.ɵɵreference(8);\n\n        ɵngcc0.ɵɵadvance(6);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzType === \"drag\")(\"ngIfElse\", _r7);\n      }\n    },\n    directives: [ɵngcc3.NgIf, NzUploadListComponent, ɵngcc10.Dir, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgClass, NzUploadBtnComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n\n  __decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzLimit\", void 0);\n\n  __decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzSize\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDirectory\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzOpenFileDialogOnClick\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDisabled\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzMultiple\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzShowButton\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzWithCredentials\", void 0);\n\n  return NzUploadComponent;\n}();\n\nvar NzUploadModule = /*@__PURE__*/function () {\n  var NzUploadModule = function NzUploadModule() {\n    _classCallCheck(this, NzUploadModule);\n  };\n\n  NzUploadModule.ɵfac = function NzUploadModule_Factory(t) {\n    return new (t || NzUploadModule)();\n  };\n\n  NzUploadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n    type: NzUploadModule\n  });\n  NzUploadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n    imports: [[BidiModule, CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule]]\n  });\n  return NzUploadModule;\n}();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzUploadModule, {\n    declarations: function declarations() {\n      return [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule, NzButtonModule];\n    },\n    exports: function exports() {\n      return [NzUploadComponent];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzUploadBtnComponent, NzUploadComponent, NzUploadListComponent, NzUploadModule, ɵ0 }; //# sourceMappingURL=ng-zorro-antd-upload.js.map","map":null,"metadata":{},"sourceType":"module"}