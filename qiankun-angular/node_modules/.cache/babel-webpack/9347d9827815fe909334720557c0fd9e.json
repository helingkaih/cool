{"ast":null,"code":"import _classCallCheck from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { DOCUMENT } from '@angular/common';\nimport { ɵɵdefineInjectable, ɵɵinject, Injectable, Inject, InjectionToken, EventEmitter, Directive, NgZone, Optional, Input, Output, NgModule } from '@angular/core';\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * A pending copy-to-clipboard operation.\n *\n * The implementation of copying text to the clipboard modifies the DOM and\n * forces a relayout. This relayout can take too long if the string is large,\n * causing the execCommand('copy') to happen too long after the user clicked.\n * This results in the browser refusing to copy. This object lets the\n * relayout happen in a separate tick from copying by providing a copy function\n * that can be called later.\n *\n * Destroy must be called when no longer in use, regardless of whether `copy` is\n * called.\n */\n\nimport * as ɵngcc0 from '@angular/core';\n\nvar PendingCopy = /*#__PURE__*/function () {\n  function PendingCopy(text, _document) {\n    _classCallCheck(this, PendingCopy);\n\n    this._document = _document;\n\n    var textarea = this._textarea = this._document.createElement('textarea');\n\n    var styles = textarea.style; // Hide the element for display and accessibility. Set a fixed position so the page layout\n    // isn't affected. We use `fixed` with `top: 0`, because focus is moved into the textarea\n    // for a split second and if it's off-screen, some browsers will attempt to scroll it into view.\n\n    styles.position = 'fixed';\n    styles.top = styles.opacity = '0';\n    styles.left = '-999em';\n    textarea.setAttribute('aria-hidden', 'true');\n    textarea.value = text;\n\n    this._document.body.appendChild(textarea);\n  }\n  /** Finishes copying the text. */\n\n\n  _createClass(PendingCopy, [{\n    key: \"copy\",\n    value: function copy() {\n      var textarea = this._textarea;\n      var successful = false;\n\n      try {\n        // Older browsers could throw if copy is not supported.\n        if (textarea) {\n          var currentFocus = this._document.activeElement;\n          textarea.select();\n          textarea.setSelectionRange(0, textarea.value.length);\n          successful = this._document.execCommand('copy');\n\n          if (currentFocus) {\n            currentFocus.focus();\n          }\n        }\n      } catch (_a) {// Discard error.\n        // Initial setting of {@code successful} will represent failure here.\n      }\n\n      return successful;\n    }\n    /** Cleans up DOM changes used to perform the copy operation. */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var textarea = this._textarea;\n\n      if (textarea) {\n        if (textarea.parentNode) {\n          textarea.parentNode.removeChild(textarea);\n        }\n\n        this._textarea = undefined;\n      }\n    }\n  }]);\n\n  return PendingCopy;\n}();\n\nvar Clipboard = /*@__PURE__*/function () {\n  var Clipboard = /*#__PURE__*/function () {\n    function Clipboard(document) {\n      _classCallCheck(this, Clipboard);\n\n      this._document = document;\n    }\n    /**\n     * Copies the provided text into the user's clipboard.\n     *\n     * @param text The string to copy.\n     * @returns Whether the operation was successful.\n     */\n\n\n    _createClass(Clipboard, [{\n      key: \"copy\",\n      value: function copy(text) {\n        var pendingCopy = this.beginCopy(text);\n        var successful = pendingCopy.copy();\n        pendingCopy.destroy();\n        return successful;\n      }\n      /**\n       * Prepares a string to be copied later. This is useful for large strings\n       * which take too long to successfully render and be copied in the same tick.\n       *\n       * The caller must call `destroy` on the returned `PendingCopy`.\n       *\n       * @param text The string to copy.\n       * @returns the pending copy operation.\n       */\n\n    }, {\n      key: \"beginCopy\",\n      value: function beginCopy(text) {\n        return new PendingCopy(text, this._document);\n      }\n    }]);\n\n    return Clipboard;\n  }();\n\n  Clipboard.ɵfac = function Clipboard_Factory(t) {\n    return new (t || Clipboard)(ɵngcc0.ɵɵinject(DOCUMENT));\n  };\n\n  Clipboard.ɵprov = /*@__PURE__*/ɵɵdefineInjectable({\n    factory: function Clipboard_Factory() {\n      return new Clipboard(ɵɵinject(DOCUMENT));\n    },\n    token: Clipboard,\n    providedIn: \"root\"\n  });\n  return Clipboard;\n}();\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** Injection token that can be used to provide the default options to `CdkCopyToClipboard`. */\n\n\nvar CDK_COPY_TO_CLIPBOARD_CONFIG = /*@__PURE__*/new InjectionToken('CDK_COPY_TO_CLIPBOARD_CONFIG');\n/**\n * @deprecated Use `CDK_COPY_TO_CLIPBOARD_CONFIG` instead.\n * @breaking-change 13.0.0\n */\n\nvar CKD_COPY_TO_CLIPBOARD_CONFIG = CDK_COPY_TO_CLIPBOARD_CONFIG;\n\nvar CdkCopyToClipboard = /*@__PURE__*/function () {\n  var CdkCopyToClipboard = /*#__PURE__*/function () {\n    function CdkCopyToClipboard(_clipboard, _ngZone, config) {\n      _classCallCheck(this, CdkCopyToClipboard);\n\n      this._clipboard = _clipboard;\n      this._ngZone = _ngZone;\n      /** Content to be copied. */\n\n      this.text = '';\n      /**\n       * How many times to attempt to copy the text. This may be necessary for longer text, because\n       * the browser needs time to fill an intermediate textarea element and copy the content.\n       */\n\n      this.attempts = 1;\n      /**\n       * Emits when some text is copied to the clipboard. The\n       * emitted value indicates whether copying was successful.\n       */\n\n      this.copied = new EventEmitter();\n      /** Copies that are currently being attempted. */\n\n      this._pending = new Set();\n\n      if (config && config.attempts != null) {\n        this.attempts = config.attempts;\n      }\n    }\n    /** Copies the current text to the clipboard. */\n\n\n    _createClass(CdkCopyToClipboard, [{\n      key: \"copy\",\n      value: function copy() {\n        var _this = this;\n\n        var attempts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.attempts;\n\n        if (attempts > 1) {\n          var remainingAttempts = attempts;\n\n          var pending = this._clipboard.beginCopy(this.text);\n\n          this._pending.add(pending);\n\n          var attempt = function attempt() {\n            var successful = pending.copy();\n\n            if (!successful && --remainingAttempts && !_this._destroyed) {\n              // We use 1 for the timeout since it's more predictable when flushing in unit tests.\n              _this._currentTimeout = _this._ngZone.runOutsideAngular(function () {\n                return setTimeout(attempt, 1);\n              });\n            } else {\n              _this._currentTimeout = null;\n\n              _this._pending.delete(pending);\n\n              pending.destroy();\n\n              _this.copied.emit(successful);\n            }\n          };\n\n          attempt();\n        } else {\n          this.copied.emit(this._clipboard.copy(this.text));\n        }\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        if (this._currentTimeout) {\n          clearTimeout(this._currentTimeout);\n        }\n\n        this._pending.forEach(function (copy) {\n          return copy.destroy();\n        });\n\n        this._pending.clear();\n\n        this._destroyed = true;\n      }\n    }]);\n\n    return CdkCopyToClipboard;\n  }();\n\n  CdkCopyToClipboard.ɵfac = function CdkCopyToClipboard_Factory(t) {\n    return new (t || CdkCopyToClipboard)(ɵngcc0.ɵɵdirectiveInject(Clipboard), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(CKD_COPY_TO_CLIPBOARD_CONFIG, 8));\n  };\n\n  CdkCopyToClipboard.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: CdkCopyToClipboard,\n    selectors: [[\"\", \"cdkCopyToClipboard\", \"\"]],\n    hostBindings: function CdkCopyToClipboard_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function CdkCopyToClipboard_click_HostBindingHandler() {\n          return ctx.copy();\n        });\n      }\n    },\n    inputs: {\n      text: [\"cdkCopyToClipboard\", \"text\"],\n      attempts: [\"cdkCopyToClipboardAttempts\", \"attempts\"]\n    },\n    outputs: {\n      copied: \"cdkCopyToClipboardCopied\"\n    }\n  });\n  return CdkCopyToClipboard;\n}();\n\nvar ClipboardModule = /*@__PURE__*/function () {\n  var ClipboardModule = function ClipboardModule() {\n    _classCallCheck(this, ClipboardModule);\n  };\n\n  ClipboardModule.ɵfac = function ClipboardModule_Factory(t) {\n    return new (t || ClipboardModule)();\n  };\n\n  ClipboardModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ClipboardModule\n  });\n  ClipboardModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n  return ClipboardModule;\n}();\n/*@__PURE__*/\n\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ClipboardModule, {\n    declarations: [CdkCopyToClipboard],\n    exports: [CdkCopyToClipboard]\n  });\n})();\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { CDK_COPY_TO_CLIPBOARD_CONFIG, CKD_COPY_TO_CLIPBOARD_CONFIG, CdkCopyToClipboard, Clipboard, ClipboardModule, PendingCopy }; //# sourceMappingURL=clipboard.js.map","map":null,"metadata":{},"sourceType":"module"}