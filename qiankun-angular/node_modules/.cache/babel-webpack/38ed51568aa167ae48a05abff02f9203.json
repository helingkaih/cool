{"ast":null,"code":"import _classCallCheck from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:/qiankun/qiankun-angular/node_modules/@angular-builders/custom-webpack/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { __decorate, __metadata } from 'tslib';\nimport { Directionality, BidiModule } from '@angular/cdk/bidi';\nimport { Component, ViewEncapsulation, ChangeDetectorRef, Optional, Input, NgModule } from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { InputNumber, InputBoolean } from 'ng-zorro-antd/core/util';\nimport { Subject, BehaviorSubject, ReplaySubject, timer } from 'rxjs';\nimport { startWith, distinctUntilChanged, switchMap, debounce, takeUntil } from 'rxjs/operators';\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng-zorro-antd/core/config';\nimport * as ɵngcc2 from '@angular/cdk/bidi';\nimport * as ɵngcc3 from '@angular/common';\n\nfunction NzSpinComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 3);\n    ɵngcc0.ɵɵelement(1, \"i\", 4);\n    ɵngcc0.ɵɵelement(2, \"i\", 4);\n    ɵngcc0.ɵɵelement(3, \"i\", 4);\n    ɵngcc0.ɵɵelement(4, \"i\", 4);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction NzSpinComponent_div_2_ng_template_2_Template(rf, ctx) {}\n\nfunction NzSpinComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r5.nzTip);\n  }\n}\n\nfunction NzSpinComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelementStart(1, \"div\", 5);\n    ɵngcc0.ɵɵtemplate(2, NzSpinComponent_div_2_ng_template_2_Template, 0, 0, \"ng-template\", 6);\n    ɵngcc0.ɵɵtemplate(3, NzSpinComponent_div_2_div_3_Template, 2, 1, \"div\", 7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = ɵngcc0.ɵɵnextContext();\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"ant-spin-rtl\", ctx_r2.dir === \"rtl\")(\"ant-spin-spinning\", ctx_r2.isLoading)(\"ant-spin-lg\", ctx_r2.nzSize === \"large\")(\"ant-spin-sm\", ctx_r2.nzSize === \"small\")(\"ant-spin-show-text\", ctx_r2.nzTip);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r2.nzIndicator || _r0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r2.nzTip);\n  }\n}\n\nfunction NzSpinComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 9);\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"ant-spin-blur\", ctx_r3.isLoading);\n  }\n}\n\nvar _c0 = [\"*\"];\nvar NZ_CONFIG_MODULE_NAME = 'spin';\n\nvar NzSpinComponent = /*@__PURE__*/function () {\n  var NzSpinComponent = /*#__PURE__*/function () {\n    function NzSpinComponent(nzConfigService, cdr, directionality) {\n      _classCallCheck(this, NzSpinComponent);\n\n      this.nzConfigService = nzConfigService;\n      this.cdr = cdr;\n      this.directionality = directionality;\n      this._nzModuleName = NZ_CONFIG_MODULE_NAME;\n      this.nzIndicator = null;\n      this.nzSize = 'default';\n      this.nzTip = null;\n      this.nzDelay = 0;\n      this.nzSimple = false;\n      this.nzSpinning = true;\n      this.destroy$ = new Subject();\n      this.spinning$ = new BehaviorSubject(this.nzSpinning);\n      this.delay$ = new ReplaySubject(1);\n      this.isLoading = false;\n      this.dir = 'ltr';\n    }\n\n    _createClass(NzSpinComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        var _a;\n\n        var loading$ = this.delay$.pipe(startWith(this.nzDelay), distinctUntilChanged(), switchMap(function (delay) {\n          if (delay === 0) {\n            return _this.spinning$;\n          }\n\n          return _this.spinning$.pipe(debounce(function (spinning) {\n            return timer(spinning ? delay : 0);\n          }));\n        }), takeUntil(this.destroy$));\n        loading$.subscribe(function (loading) {\n          _this.isLoading = loading;\n\n          _this.cdr.markForCheck();\n        });\n        this.nzConfigService.getConfigChangeEventForComponent(NZ_CONFIG_MODULE_NAME).pipe(takeUntil(this.destroy$)).subscribe(function () {\n          return _this.cdr.markForCheck();\n        });\n        (_a = this.directionality.change) === null || _a === void 0 ? void 0 : _a.pipe(takeUntil(this.destroy$)).subscribe(function (direction) {\n          _this.dir = direction;\n\n          _this.cdr.detectChanges();\n        });\n        this.dir = this.directionality.value;\n      }\n    }, {\n      key: \"ngOnChanges\",\n      value: function ngOnChanges(changes) {\n        var nzSpinning = changes.nzSpinning,\n            nzDelay = changes.nzDelay;\n\n        if (nzSpinning) {\n          this.spinning$.next(this.nzSpinning);\n        }\n\n        if (nzDelay) {\n          this.delay$.next(this.nzDelay);\n        }\n      }\n    }, {\n      key: \"ngOnDestroy\",\n      value: function ngOnDestroy() {\n        this.destroy$.next();\n        this.destroy$.complete();\n      }\n    }]);\n\n    return NzSpinComponent;\n  }();\n\n  NzSpinComponent.ɵfac = function NzSpinComponent_Factory(t) {\n    return new (t || NzSpinComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NzConfigService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Directionality, 8));\n  };\n\n  NzSpinComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n    type: NzSpinComponent,\n    selectors: [[\"nz-spin\"]],\n    hostVars: 2,\n    hostBindings: function NzSpinComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"ant-spin-nested-loading\", !ctx.nzSimple);\n      }\n    },\n    inputs: {\n      nzIndicator: \"nzIndicator\",\n      nzSize: \"nzSize\",\n      nzTip: \"nzTip\",\n      nzDelay: \"nzDelay\",\n      nzSimple: \"nzSimple\",\n      nzSpinning: \"nzSpinning\"\n    },\n    exportAs: [\"nzSpin\"],\n    features: [ɵngcc0.ɵɵNgOnChangesFeature],\n    ngContentSelectors: _c0,\n    decls: 4,\n    vars: 2,\n    consts: [[\"defaultTemplate\", \"\"], [4, \"ngIf\"], [\"class\", \"ant-spin-container\", 3, \"ant-spin-blur\", 4, \"ngIf\"], [1, \"ant-spin-dot\", \"ant-spin-dot-spin\"], [1, \"ant-spin-dot-item\"], [1, \"ant-spin\"], [3, \"ngTemplateOutlet\"], [\"class\", \"ant-spin-text\", 4, \"ngIf\"], [1, \"ant-spin-text\"], [1, \"ant-spin-container\"]],\n    template: function NzSpinComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, NzSpinComponent_ng_template_0_Template, 5, 0, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵtemplate(2, NzSpinComponent_div_2_Template, 4, 12, \"div\", 1);\n        ɵngcc0.ɵɵtemplate(3, NzSpinComponent_div_3_Template, 2, 2, \"div\", 2);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.nzSimple);\n      }\n    },\n    directives: [ɵngcc3.NgIf, ɵngcc3.NgTemplateOutlet],\n    encapsulation: 2\n  });\n\n  __decorate([WithConfig(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzIndicator\", void 0);\n\n  __decorate([InputNumber(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzDelay\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzSimple\", void 0);\n\n  __decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzSpinComponent.prototype, \"nzSpinning\", void 0);\n\n  return NzSpinComponent;\n}();\n\nvar NzSpinModule = /*@__PURE__*/function () {\n  var NzSpinModule = function NzSpinModule() {\n    _classCallCheck(this, NzSpinModule);\n  };\n\n  NzSpinModule.ɵfac = function NzSpinModule_Factory(t) {\n    return new (t || NzSpinModule)();\n  };\n\n  NzSpinModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n    type: NzSpinModule\n  });\n  NzSpinModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n    imports: [[BidiModule, CommonModule, ObserversModule]]\n  });\n  return NzSpinModule;\n}();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzSpinModule, {\n    declarations: function declarations() {\n      return [NzSpinComponent];\n    },\n    imports: function imports() {\n      return [BidiModule, CommonModule, ObserversModule];\n    },\n    exports: function exports() {\n      return [NzSpinComponent];\n    }\n  });\n})();\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { NzSpinComponent, NzSpinModule }; //# sourceMappingURL=ng-zorro-antd-spin.js.map","map":null,"metadata":{},"sourceType":"module"}